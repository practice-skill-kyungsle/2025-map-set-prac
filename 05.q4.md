## 📝 문제 4 (난이도: ⭐⭐⭐)

웹사이트 방문 기록을 관리하려고 합니다. 사용자 ID를 키로, 방문한 페이지들의 배열을 값으로 저장하세요.

```javascript
// 다음 방문 기록을 저장하고 관리하세요:
// user1이 'home' 방문
// user2가 'about' 방문
// user1이 'products' 방문
// user2가 'home' 방문
// user1이 'home' 방문 (중복)

// 최종 결과:
// user1: ['home', 'products', 'home']
// user2: ['about', 'home']

// 그리고 user1이 방문한 고유한 페이지 수를 출력하세요
// (중복 제거한 페이지 수)
```

## 답변1

```js
const user1 = [];
const user2 = [];

user1.push("home");
user2.push("about");
user1.push("products");
user2.push("home");
user1.push("home");

console.log([...new Set(user1)].length);
```

아쉽지만 틀렸습니다! ❌

문제에서 요구한 것은 **Map을 사용해서 사용자 ID를 키로, 방문 페이지 배열을 값으로 저장**하는 거예요.

지금 작성하신 코드는:

- user1, user2를 각각 별도의 변수로 관리하고 있어요
- Map을 사용하지 않았어요
- 만약 user3, user4... 등 사용자가 늘어나면 계속 변수를 추가해야 해서 비효율적이에요

**다시 시도해보세요!**

생각해볼 점:

- Map의 키는 무엇이어야 할까요? (사용자 ID)
- Map의 값은 무엇이어야 할까요? (방문한 페이지들의 배열)
- 사용자가 이미 Map에 있으면? 기존 배열에 추가
- 사용자가 Map에 없으면? 새로운 배열 생성

다시 도전해보세요! 💪

## 답변2

```js
const user = new Map([
  ["user1", []],
  ["user2", []],
]);

user.get("user1").push("home");
user.get("user2").push("about");
user.get("user1").push("products");
user.get("user2").push("home");
user.get("user1").push("home");

console.log([...new Set(user.get("user1"))].length);
```

## 조언

```js
const user = new Map();

function visit(userId, page) {
  if (!user.has(userId)) {
    user.set(userId, []);
  }
  user.get(userId).push(page);
}

visit("user1", "home");
visit("user2", "about");
visit("user1", "products");
visit("user2", "home");
visit("user1", "home");

console.log([...new Set(user.get("user1"))].length); // 2
```
